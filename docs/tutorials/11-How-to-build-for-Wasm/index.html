<!doctype html>
<html lang="en">
    <head>    

        <title>10. Building QSkinny for WebAssembly (Wasm) - The QSkinny UI framework</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="A documentation theme"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%26display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="/assets/css/main.css">
        <link rel="stylesheet" href="/assets/css/syntax.css">
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        
    </head>
    <body>
        
        <div id="page" class="site">
  <header id="masthead" class="site-header outer">
  <div class="inner">
    <div class="site-header-inside">
      <div class="site-branding">
        
        
        <p class="site-title"><a href="/"></a></p>
        
      </div><!-- .site-branding -->
      
      
      <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
        <div class="site-nav-inside">
          <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button>
          <ul class="menu">
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/">
  
  Home
  
</a>

              
            </li>
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/docs/tutorials/01-What-is-QSkinny/">
  
  Tutorials
  
</a>

              
            </li>
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/docs/api/html/" target="_blank" rel="noopener">
  
  API documentation
  
</a>

              
            </li>
          
            
            
            <li class="menu-item menu-button">
              
              
<a class="button" href="https://github.com/uwerat/qskinny" target="_blank" rel="noopener">
  
  GitHub
  
</a>

              
            </li>
          
          </ul>
        </div><!-- .site-nav-inside -->
      </nav><!-- .site-navigation -->
      <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
      
    </div><!-- .site-header-inside -->
  </div><!-- .inner -->
</header><!-- .site-header -->

  <main id="content" class="site-content">
    <div class="inner outer">
  <div class="docs-content">
    
    




<nav id="docs-nav" class="docs-nav" style="z-index: 1000">
  <div id="docs-nav-inside" class="docs-nav-inside sticky">
    <button id="docs-nav-toggle" class="docs-nav-toggle">Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span></button>
    <div class="docs-nav-menu">
      <select id="search-field">
      </select>
      <br /><br />
      <ul id="docs-menu" class="docs-menu">
        <li class="docs-menu-item">
          <a href=""></a>
        </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children active">
            <a href="/docs/tutorials/">Tutorials</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<div class="docs-submenu-div">
    <ul class="docs-submenu">
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/01-What-is-QSkinny/">1. What is QSkinny?</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/02-Why-QSkinny/">2. Why QSkinny?</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/03-writing-your-first-application/">3. Writing your first application</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/04-Layouts/">4. Layouts</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/05-Skins/">5. Skins</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/06-The-theming-engine-in-depth/">6. The theming engine in depth</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/07-scalable-graphics/">7. (Scalable) graphics</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/08-parents-and-parent-items/">8. Parents and parent items</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/09-qskinny-and-qml/">9. Using QSkinny and QML</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/10-writing-own-controls/">10. Writing own controls</a>
        </li>
    
        <li class="docs-menu-item current">
        <a href="/docs/tutorials/11-How-to-build-for-Wasm/">10. Building QSkinny for WebAssembly (Wasm)</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/11-scene-graph/">11. Scene graph representations of controls</a>
        </li>
    
    </ul>
</div>

            
          </li>
        
      </ul><!-- .docs-menu -->
    </div><!-- .docs-nav-menu -->
  </div><!-- .docs-nav-inside -->
</nav><!-- .docs-nav -->

    <article class="post type-docs">
      <div class="post-inside">
        <header class="post-header">
          <h1 class="post-title line-left">10. Building QSkinny for WebAssembly (Wasm)</h1>
        </header><!-- .post-header -->
        <div class="post-content">
          <div class="sect1">
<h2 id="10-building-qskinny-for-webassembly-wasm">10. Building QSkinny for WebAssembly (Wasm)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-qt-for-wasm">Build Qt for Wasm</h3>
<div class="paragraph">
<p>Build Qt for Wasm from source as described here: <a href="https://doc.qt.io/qt-6/wasm.html#building-qt-from-source" class="bare">https://doc.qt.io/qt-6/wasm.html#building-qt-from-source</a> ; The verified Qt version for QSkinny as of this writing was 6.6.0. It might also work to use a downloaded version of Qt for Wasm, but some additional libraries will need to be built.
After configuring Qt as described in the link above, for QSkinny you will need the qtbase, qtdeclarative, qtshadertools and qtsvg modules.
Assuming the Emscripten SDK in <code>~/dev/emscripten</code> and Qt in <code>~/dev/qt6</code>, Qt can be compiled the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cd ~/dev/qt6
source "~/dev/emsdk/emsdk_env.sh"
./configure -platform wasm-emscripten -qt-host-path /home/peter/Qt/6.6.0/gcc_64/ -prefix $PWD/qtbase -submodules qtbase,qtdeclarative,qtshadertools,qtsvg
cmake --build . -t qtbase -t qtdeclarative -t qtshadertools -t qtsvg</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will install all required libs in <code>~/dev/qt6/qtbase/lib</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="build-qskinny-for-wasm">Build QSkinny for Wasm</h3>
<div class="paragraph">
<p>With the Qt version from above QSkinny can be built for WAsm, assuming it has been checked out at <code>~/dev/qskinny</code>. Note the configuration option <code>BUILD_QSKDLL=OFF</code> for static
 builds:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mkdir -p ~/dev/qskinny-wasm-build
source "~/dev/emsdk/emsdk_env.sh"
~/dev/qt6/qtbase/bin/qt-cmake -S ~/dev/qskinny -B ~/dev/qskinny-wasm-build -DBUILD_QSKDLL=OFF</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="run-qskinny-for-wasm">Run QSkinny for Wasm</h3>
<div class="paragraph">
<p>Qt creates the HTML wrappers automatically, so there is not much to do except letting Emscripten start the server and open our app in the browser:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>/usr/bin/python3 ~/dev/emsdk/upstream/emscripten/emrun.py --browser firefox --port 30001 --no_emrun_detect  ~/dev/qskinny-wasm-build/examples/bin/iotdashboard.html</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/iotdashboard-wasm.png" alt="The IOT dashboard example in a browser">
</div>
<div class="title">Figure 1. The IOT dashboard example in a browser</div>
</div>
</div>
</div>
</div>
          
          
          
            
            
            
            
            
          
        </div><!-- .post-content -->
      </div><!-- .post-inside -->
    </article><!-- .post -->
    <nav id="page-nav" class="page-nav">
      <div id="page-nav-inside" class="page-nav-inside sticky">
        <h2 class="page-nav-title">Jump to Section</h2>
        <div id="page-nav-link-container"></div>
      </div><!-- .page-nav-inside -->
    </nav><!-- .page-nav -->
  </div><!-- .docs-content -->
</div><!-- .inner-->

  </main><!-- .site-content -->
  <footer id="colophon" class="site-footer outer">
  <div class="inner">
    <div class="site-footer-inside">
      <p class="site-info">
        
        
        <span class="copyright">&copy; The QSkinny project. All rights reserved.</span>
        
        
      </p><!-- .site-info -->
      
      
      <div class="social-links">
        
          
          
<a class="button button-icon" href="https://github.com/uwerat/qskinny" target="_blank" rel="noopener">
  
  <span class="icon fab fa-github" aria-hidden="true"></span><span class="screen-reader-text">GitHub</span>
  
</a>

        
      </div><!-- .social-links -->
      
    </div><!-- .site-footer-inside -->
  </div><!-- .inner -->
</footer><!-- .site-footer -->

</div><!-- .site -->

        <!-- Scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="/assets/js/plugins.js"></script>
        <script src="/assets/js/main.js"></script>
        <script src="/assets/js/page-load.js"></script>
        <script src="/assets/js/qskinny-search.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    </body>
</html>
