<!doctype html>
<html lang="en">
    <head>    

        <title>5. Skins - The QSkinny UI framework</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="A documentation theme"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%26display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="/assets/css/main.css">
        <link rel="stylesheet" href="/assets/css/syntax.css">
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        
    </head>
    <body>
        
        <div id="page" class="site">
  <header id="masthead" class="site-header outer">
  <div class="inner">
    <div class="site-header-inside">
      <div class="site-branding">
        
        
        <p class="site-title"><a href="/"></a></p>
        
      </div><!-- .site-branding -->
      
      
      <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
        <div class="site-nav-inside">
          <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button>
          <ul class="menu">
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/">
  
  Home
  
</a>

              
            </li>
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/docs/tutorials/01-What-is-QSkinny/">
  
  Tutorials
  
</a>

              
            </li>
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/docs/api/html/" target="_blank" rel="noopener">
  
  API documentation
  
</a>

              
            </li>
          
            
            
            <li class="menu-item menu-button">
              
              
<a class="button" href="https://github.com/uwerat/qskinny" target="_blank" rel="noopener">
  
  GitHub
  
</a>

              
            </li>
          
          </ul>
        </div><!-- .site-nav-inside -->
      </nav><!-- .site-navigation -->
      <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
      
    </div><!-- .site-header-inside -->
  </div><!-- .inner -->
</header><!-- .site-header -->

  <main id="content" class="site-content">
    <div class="inner outer">
  <div class="docs-content">
    
    




<nav id="docs-nav" class="docs-nav" style="z-index: 1000">
  <div id="docs-nav-inside" class="docs-nav-inside sticky">
    <button id="docs-nav-toggle" class="docs-nav-toggle">Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span></button>
    <div class="docs-nav-menu">
      <ul id="docs-menu" class="docs-menu">
        <li class="docs-menu-item">
          <a href=""></a>
        </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children active">
            <a href="/docs/tutorials/">Tutorials</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<div class="docs-submenu-div">
    <ul class="docs-submenu">
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/01-What-is-QSkinny/">1. What is QSkinny?</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/02-Why-QSkinny/">2. Why QSkinny?</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/03-writing-your-first-application/">3. Writing your first application</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/04-Layouts/">4. Layouts</a>
        </li>
    
        <li class="docs-menu-item current">
        <a href="/docs/tutorials/05-Skins/">5. Skins</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/06-The-theming-engine-in-depth/">6. The theming engine in depth</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/07-scalable-graphics/">7. (Scalable) graphics</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/08-parents-and-parent-items/">8. Parents and parent items</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/09-qskinny-and-qml/">9. Using QSkinny and QML</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/10-writing-own-controls/">10. Writing own controls</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/11-How-to-build-for-Wasm/">10. Building QSkinny for WebAssembly (Wasm)</a>
        </li>
    
        <li class="docs-menu-item">
        <a href="/docs/tutorials/11-scene-graph/">11. Scene graph representations of controls</a>
        </li>
    
    </ul>
</div>

            
          </li>
        
      </ul><!-- .docs-menu -->
    </div><!-- .docs-nav-menu -->
  </div><!-- .docs-nav-inside -->
</nav><!-- .docs-nav -->

    <article class="post type-docs">
      <div class="post-inside">
        <header class="post-header">
          <h1 class="post-title line-left">5. Skins</h1>
        </header><!-- .post-header -->
        <div class="post-content">
          <div class="sect1">
<h2 id="skins-skin-hints-and-skinlets">Skins, Skin hints and Skinlets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Skins, Skin hints and Skinlets allow the user to define how specific
controls looke like. Controls are drawn on the screen by the
skinlet, and therefore it will read information from both the control
itself as well as read the skin hints from the skin:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skins-1.png" alt="Styling controls">
</div>
<div class="title">Figure 1. Skinlets query the control and the skin</div>
</div>
<div class="paragraph">
<p>For instance, a button skinlet will read the margins from the skin and
the text to render from the button.</p>
</div>
<div class="sect2">
<h3 id="skins">Skins</h3>
<div class="paragraph">
<p>Skins are a way to define a look and feel for a whole set of UI
controls, e.g. a night time vs. day time skin, skins for different
brands or an Android Material skin. They contain all kinds of properties
(i.e. skin hints) like colors, margins, fonts and more.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class MySkin : public QskSkin
{

public:
    MySkin( QObject* parent = nullptr ) : QskSkin( parent )
    {
        // here define the skin with skin hints
    }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example below shows different implementations for a push button: One
has a traditional desktop skin, the other is a flat button with a skin
often found in mobile devices.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skinlets-button-1.png" alt="desktop style button">
</div>
<div class="title">Figure 2. desktop style button</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skinlets-button-2.png" alt="flat button">
</div>
<div class="title">Figure 3. flat button</div>
</div>
</div>
<div class="sect2">
<h3 id="skin-hints">Skin hints</h3>
<div class="paragraph">
<p>Each instance of a button will have unique properties like its text or
icon file name, but all buttons will have common properties like the
(default) background color and font size. These common properties are
called skin hints, and are defined in a skin. Skin hints are either
colors, e.g. the background color of a button, metrics (e.g. padding) or
flags (e.g. text alignment).</p>
</div>
<div class="paragraph">
<p>Skin hints being part of a skin means that each skin can have different
skin hints:</p>
</div>
<div class="paragraph">
<p>All buttons in a day time-like skin would have a light background color
and dark text color, while a night time skin would have a dark
background color and light text color by default.</p>
</div>
<div class="paragraph">
<p>Extending the <code>MySkin</code> example from above, here is an example of some
skin hints for a push button, setting the padding to 10 pixels, the
background color to magenta and the text color to black:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class MySkin : public QskSkin
{

public:
    MySkin( QObject* parent = nullptr ) : QskSkin( parent )
    {
        setGradient( QskPushButton::Panel, Qt::magenta );
        setMargins( QskPushButton::Panel | QskAspect::Padding, 10 );
        setColor( QskPushButton::Text, Qt::black );
    }
};</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skin-hints.png" alt="Button with skin hints">
</div>
<div class="title">Figure 4. A button styled with skin hints</div>
</div>
<div class="paragraph">
<p>When writing a new skin, a developer needs to know which hints to set
for which control. This usually depends on the control itself; however,
since usually controls are broken down into the three primitives box,
text and graphic, the methods for rendering each of them will take the
following skin hints into account:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Primitive</th>
<th class="tableblock halign-left valign-top">Skin hint from QskAspect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Alignment</code><br>
<code>Color</code><br>
<code>TextColor</code><br>
<code>StyleColor</code><br>
<code>LinkColor</code><br>
<code>Style</code><br>
<code>FontRole</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Graphic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Alignment</code><br>
<code>GraphicRole</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Box</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Margin</code><br>
<code>Metric</code> | <code>Border</code><br>
<code>Color</code> | <code>Border</code><br>
<code>Color</code><br>
<code>Metric</code> | <code>Shape</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Some special cases exist where elements other than the primitives above
are used.</p>
</div>
<div class="sect3">
<h4 id="states-and-animations">States and animations</h4>
<div class="paragraph">
<p>Skin hints can also depend on the state a control is in: Buttons for
instance can be in a <code>Pressed</code> or <code>Hovered</code> state. For such cases, skin
hints cannot only be set on a subcontrol, but also be made dependent on
a specific state. In the example below we define the background color of
the button to be magenta in the default state and cyan in the <code>Hovered</code>
state.</p>
</div>
<div class="paragraph">
<p>When dealing with states, QSkinny allows for animations between those (and other entities
like skins). The example below adds a different color for the <code>Hovered</code>
state and an animation when transitioning between the background colors.
The duration is set to be one second (1000 milliseconds in the
<code>setAnimation()</code> call below). Now when a user will hover over the
button, there will be a smooth animation from magenta to cyan
interpolating between the colors. Without the <code>setAnimation()</code> call, the
button would just switch to magenta when hovered right away.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class MySkin : public QskSkin
{

public:
    MySkin( QObject* parent = nullptr ) : QskSkin( parent )
    {
        setGradient( QskPushButton::Panel, Qt::magenta );
        setMargins( QskPushButton::Panel | QskAspect::Padding, 10 );
        setColor( QskPushButton::Text, Qt::black );

        setGradient( QskPushButton::Panel | QskPushButton::Hovered, Qt::cyan );
        setAnimation( QskPushButton::Panel | QskAspect::Color, 1000 );
    }
};</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skin-hints-states-1.png" alt="button in normal state">
</div>
<div class="title">Figure 5. button in normal state</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skin-hints-states-2.png" alt="button in hovered state">
</div>
<div class="title">Figure 6. button in hovered state</div>
</div>
</div>
<div class="sect3">
<h4 id="local-skin-hints">Local skin hints</h4>
<div class="paragraph">
<p>It is possible to set local skin hints on specific controls to override
skin-wide settings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>auto* label1 = new QskTextLabel( "control 1" );
label1-&gt;setMargins( 20 );
label1-&gt;setBackgroundColor( Qt::blue );</code></pre>
</div>
</div>
<div class="paragraph">
<p>In general it is recommended to set the skin hints in the skin rather
than on the control locally, in order to separate the style from the
implementation, and to allow switching between skins. How to write
controls that are themable is explained in the section about
<a href="Writing-own-controls.html">writing own controls</a>.</p>
</div>
<div class="paragraph">
<p>Taking animations and local skin hints into account, the architecture
diagram now looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skins-2.png" alt="Animators and local skin hints">
</div>
<div class="title">Figure 7. Skinlets can also read from local skinlets and animators</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="skinlets">Skinlets</h3>
<div class="paragraph">
<p>A skinlet is in charge of drawing a control on the screen, similar to a
Delegate in QML. It will read all the hints it needs from either the
control itself or the skin, then it will draw the subcontrols that
represent the control: In the sample case of a button, the skinlet will
first draw the background panel, potentially consisting of a rectangle
with a fill color. Then it will draw the text of the button, and last it
will draw an icon, in case the button has one set.</p>
</div>
<div class="paragraph">
<p>Each skin can have a different skinlet to draw a control. Often the
skinlet is the same across different skins and the skins only differ in
skin hints, e.g. buttons having different fonts. However, it is also
possible to have completely different skinlets per skin. This ensures a
separation of application code instantiating the controls itself from
the visual representation of the controls.</p>
</div>
<div class="paragraph">
<p>QSkinny already contains implementations of many common controls like
text labels, buttons and so on. However, some custom controls might
need to be written from scratch, including the skinlet; for an
explanation on how to do this, see the example of
<a href="Writing-own-controls.html">writing own controls</a>.</p>
</div>
<div class="paragraph">
<p>For a closer look at how the skinlet draws the controls in the scene
graph, see <a href="scene-graph.html">scene graph representations of controls</a>.</p>
</div>
<div class="paragraph">
<p>Of course each app has different controls and therefore there are also
different skinlets, so a more complete version of the architecture
diagram looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skins-3.png" alt="Animators and local skin hints">
</div>
<div class="title">Figure 8. There is one skinlet for each atomic control</div>
</div>
</div>
<div class="sect2">
<h3 id="skin-factories-and-switching-between-skins">Skin factories and switching between skins</h3>
<div class="paragraph">
<p>Skins are usually not created by the user directly, but by a skin
factory. Such a factory keeps track of the skins registered in the
system, and handles creating a new skin when the user switches them
during application lifetime.</p>
</div>
<div class="paragraph">
<p>When having two skins called <code>MySkin</code> and <code>OtherSkin</code> in an app, the
corresponding skin factory might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class MySkinFactory : public QskSkinFactory
{

    Q_OBJECT

public:
    QStringList skinNames() const override
    {
        return { "MySkin", "OtherSkin" };
    }

    QskSkin* createSkin( const QString&amp; skinName ) override
    {
        if ( skinName == "MySkin" )
            return new MySkin;

        if ( skinName == "OtherSkin" )
            return new OtherSkin;

        return nullptr;
    }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>That skin factory has to be registered during app start; it is also a
good idea to set a default skin right away:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>int main( int argc, char* argv[] )
{
    auto* skinFactory = new MySkinFactory;
    qskSkinManager-&gt;registerFactory( "MySkinFactory", skinFactory );

    QGuiApplication app( argc, argv );

    qskSetup-&gt;setSkin( "MySkin" );

    ...
    QskWindow window;
    window.show();

    return app.exec();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we can define the <code>OtherSkin</code> and define different skin hints for
e.g. push buttons. Here we define the background color and padding to be
different; also we configure buttons to have a blue border:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class OtherSkin : public QskSkin
{

public:
    OtherSkin( QObject* parent = nullptr ) : QskSkin( parent )
    {
        setGradient( QskPushButton::Panel, Qt::cyan );
        setMargins( QskPushButton::Panel | QskAspect::Padding, 15 );
        setBoxBorderColors( QskPushButton::Panel, Qt::blue );
        setBoxBorderMetrics( QskPushButton::Panel, 1 );
    }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Switching between skins will change the look of <code>QskPushButton</code>
instances:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skin-hints-states-1.png" alt="button in normal state">
</div>
<div class="title">Figure 9. button in <code>MySkin</code> (as above)</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/skin-factory.png" alt="Styling controls">
</div>
<div class="title">Figure 10. button in <code>OtherSkin</code></div>
</div>
</div>
</div>
</div>
          
          
          
            
            
            
            
            
          
        </div><!-- .post-content -->
      </div><!-- .post-inside -->
    </article><!-- .post -->
    <nav id="page-nav" class="page-nav">
      <div id="page-nav-inside" class="page-nav-inside sticky">
        <h2 class="page-nav-title">Jump to Section</h2>
        <div id="page-nav-link-container"></div>
      </div><!-- .page-nav-inside -->
    </nav><!-- .page-nav -->
  </div><!-- .docs-content -->
</div><!-- .inner-->

  </main><!-- .site-content -->
  <footer id="colophon" class="site-footer outer">
  <div class="inner">
    <div class="site-footer-inside">
      <p class="site-info">
        
        
        <span class="copyright">&copy; The QSkinny project. All rights reserved.</span>
        
        
      </p><!-- .site-info -->
      
      
      <div class="social-links">
        
          
          
<a class="button button-icon" href="https://github.com/uwerat/qskinny" target="_blank" rel="noopener">
  
  <span class="icon fab fa-github" aria-hidden="true"></span><span class="screen-reader-text">GitHub</span>
  
</a>

        
      </div><!-- .social-links -->
      
    </div><!-- .site-footer-inside -->
  </div><!-- .inner -->
</footer><!-- .site-footer -->

</div><!-- .site -->

        <!-- Scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="/assets/js/plugins.js"></script>
        <script src="/assets/js/main.js"></script>
        <script src="/assets/js/page-load.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    </body>
</html>
